/* ========================================================================== */
/* 01) TOKENS / THEME                                                         */
/* ========================================================================== */
:root{
  --bg:#0B1622;
  --surface:#0E1D31;
  --ink:#C9D3DD;
  --ink-2:#8AA0B2;
  --lede:#B7C6D4;                      /* subtítulos más claros */
  --brand:#0F243A;                     /* azul petróleo base */
  --accent:#6A3DC8;                    /* violeta principal */
  --accent-2:#8E5CFF;                  /* violeta claro */
  --off:#F3F6FA;

  --radius:16px;
  --shadow-sm:0 4px 18px rgba(0,0,0,.18);
  --shadow-md:0 8px 28px rgba(0,0,0,.22);
  --shadow-lg:0 12px 44px rgba(0,0,0,.28);

  --maxw:1200px;
}

/* ========================================================================== */
/* 02) BASE / RESET                                                           */
/* ========================================================================== */
html{color-scheme:dark light}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#07121F 0%,var(--bg) 40%,#08192B 100%);
  color:var(--ink);
  font:16px/1.6 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
}

/* Enlaces: no subrayar en nav/pills/cards/botones; sólo en .prose */
a,.btn,.pill-nav,.site-nav a{color:inherit;text-decoration:none}
a:hover,.site-nav a:hover,.pill-nav:hover,.btn:hover{ text-decoration:none }
.prose a{ text-decoration:underline; text-underline-offset:2px }
.prose a:hover{ text-decoration:none; border-bottom:1px solid currentColor }

:focus-visible{ outline:3px solid #B3A0FF; outline-offset:2px }
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}

/* ========================================================================== */
/* 03) LAYOUT / SECCIONES (sin franjas oscuras entre bloques)                 */
/* ========================================================================== */
.main{ display:block }             /* seguridad por si algún layout añade margen */
.container,.container-wide{
  max-width:var(--maxw);
  margin:0 auto;
  padding:1.2rem 1rem 3rem;
  background:transparent;
}

/* Cada sección de la home: SIN márgenes verticales -> elimina la línea oscura */
.home-section{
  position:relative;
  padding:2.6rem 0 3.2rem;
  margin:0;                         /* ← elimina el hueco oscuro */
}

/* Alternancia tipo Lovable (oscuro sutil / azulado) */
.home-section.zebra{
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
}
.home-section.zebra.alt{
  background:linear-gradient(180deg,rgba(18,28,45,.78),rgba(12,22,35,.86));
}

/* Cabeceras centradas */
.section-head{ text-align:center; max-width:70ch; margin:0 auto 1.2rem }
.section-head h2{
  font-size:clamp(1.8rem,3.2vw,2.4rem);
  line-height:1.2; margin:0 0 .35rem; color:#EAF1FF;
}
.section-head .lede{ color:var(--lede); font-size:clamp(1rem,1.8vw,1.15rem) }

/* ========================================================================== */
/* 04) NAV (píldoras + buscador minimal)                                      */
/* ========================================================================== */
.site-nav{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.8rem 1rem; position:sticky; top:0; z-index:60;
  border-bottom:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,rgba(23,22,52,.22),rgba(4,12,24,.12));
  backdrop-filter:saturate(120%) blur(6px);
  box-shadow:var(--shadow-sm);
}
.brand{ display:flex; gap:.6rem; align-items:center }
.logo-mark{
  width:28px; height:28px; border-radius:10px;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.12);
}
.logo-text{
  font-weight:800; letter-spacing:.2px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

#menu{ list-style:none; display:flex; gap:.6rem; margin:0; padding:0; align-items:center }
.menu-btn{ display:none }
@media (max-width:900px){
  .menu-btn{ display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .6rem; border:1px solid rgba(255,255,255,.14); border-radius:10px; background:rgba(255,255,255,.04) }
  #menu{ display:none; position:absolute; right:1rem; top:3.2rem; flex-direction:column; align-items:flex-start; background:#0C1725; border:1px solid rgba(255,255,255,.14); border-radius:12px; padding:.6rem }
  #menu.open{ display:flex }
}

.pill-nav{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.5rem .9rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.04);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
  transition: transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.pill-nav .i{ width:18px; height:18px }
.pill-nav:hover{ transform:translateY(-1px); border-color:rgba(142,92,255,.35); background:rgba(255,255,255,.06) }
.pill-nav.is-active{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  border-color:transparent; color:#fff; box-shadow:0 4px 18px rgba(106,61,200,.35);
}

/* Buscador pill */
.site-search{
  position:relative; display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.05);
}
.site-search .i{ width:18px; height:18px; opacity:.8 }
.site-search input{ background:transparent; border:none; outline:none; color:var(--ink); min-width:10ch; padding:.2rem 0 }
.site-search input::placeholder{ color:var(--ink-2) }
.site-search:focus-within{ border-color:rgba(142,92,255,.45); box-shadow:0 0 0 3px rgba(142,92,255,.20) }

/* ========================================================================== */
/* 05) HERO (portada grande, etiqueta y CTAs)                                 */
/* ========================================================================== */
.hero{ position:relative; min-height:64vh; display:grid; place-items:center; overflow:hidden; width:100% }
.hero-bg{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:grayscale(15%) contrast(108%); opacity:.9 }
.hero-overlay{
  position:absolute; inset:0;
  background:
    radial-gradient(120% 120% at 50% 35%, transparent 0, rgba(11,22,34,.65) 60%, rgba(11,22,34,.95) 100%),
    linear-gradient(180deg, rgba(106,61,200,.22), rgba(142,92,255,.10));
  mix-blend-mode: screen;
  pointer-events:none;
}
.hero-ink{ position:absolute; inset:0; opacity:.12; pointer-events:none; background-image:repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px) }

.hero-copy{ position:relative; max-width:1100px; margin-inline:auto; padding:clamp(1rem,2.8vw,2rem); text-align:left }
.hero-copy h1{
  color:#EAF1FF; font-weight:900;
  font-size:clamp(2.4rem, 6vw, 4.4rem);
  line-height:1.1; margin:.3rem 0 .7rem; letter-spacing:.2px;
}
.hero-copy .accent{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.hero-copy .lede{
  color:#D5E0ED; font-size:clamp(1.05rem,1.8vw,1.25rem);
  max-width:70ch; margin:0 0 1.2rem;
}

/* Etiqueta “Cyber Threat Intelligence” */
.pill-cta{
  display:inline-flex; align-items:center; gap:.6rem;
  padding:.45rem .9rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06);
  color:#EDEBFF; font-weight:700; letter-spacing:.2px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
}
.pill-cta .dot{
  width:.55rem; height:.55rem; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff 0 25%, transparent 26%),
              linear-gradient(135deg,var(--accent),var(--accent-2));
  box-shadow: 0 0 0 2px rgba(255,255,255,.18) inset, 0 0 8px rgba(142,92,255,.45);
}

/* CTAs */
.btn{ display:inline-flex; align-items:center; gap:.5rem; border-radius:999px; cursor:pointer }
.btn .i{ width:18px; height:18px }
.btn-xl{
  font-size:1.05rem; padding:.9rem 1.2rem; color:#fff;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  box-shadow:var(--shadow-md); border:1px solid transparent;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.btn-xl:hover{ transform:translateY(-1px); box-shadow:var(--shadow-lg) }
.btn.ghost{ background:transparent; color:var(--ink); border:1px solid rgba(255,255,255,.22) }
.btn.ghost:hover{ border-color:rgba(142,92,255,.45); box-shadow:0 0 0 3px rgba(142,92,255,.18) }
.cta-center{ text-align:center; margin-top:1.1rem }

/* ========================================================================== */
/* 06) GRIDS Y CARDS                                                          */
/* ========================================================================== */
.grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:1.1rem }
@media (max-width:900px){ .grid{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:600px){ .grid{ grid-template-columns:1fr } }

.card{
  position:relative; z-index:0;
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08); border-radius:20px;
  padding:1.25rem 1.25rem 1rem;
  box-shadow:var(--shadow-sm);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.card:hover{ transform:translateY(-4px); box-shadow:var(--shadow-lg); border-color:rgba(142,92,255,.35) }

/* Título/Excerpt de cards */
.card-title{
  font-size: clamp(1.25rem,1.3vw + 1rem,1.65rem);
  font-weight:800; margin:.3rem 0 .55rem; line-height:1.25; color:var(--ink);
  text-decoration:none; transition:color .18s ease, background .18s ease;
}
.card-excerpt{ color:var(--ink-2); margin:0 0 1rem; max-width:68ch }

/* Hover violeta del título (sin subrayado) */
.card:hover .card-title{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Meta filas: badges y chips */
.meta-row{ display:flex; flex-wrap:wrap; gap:.55rem; margin:.35rem 0 0 }
.badge{
  display:inline-flex; align-items:center; gap:.4rem;
  font-size:.86rem; font-weight:600;
  padding:.28rem .7rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06); backdrop-filter:saturate(120%) blur(2px);
}
.badge .i{ width:16px; height:16px }
.tlp-white{ border-color:#E5E7EB33;background:#E5E7EB22;color:#E5E7EB }
.tlp-green{ border-color:#34D39933;background:#34D39922 }
.tlp-amber{ border-color:#F59E0B33;background:#F59E0B22 }
.tlp-red{ border-color:#EF444433;background:#EF444422 }
.sev-low{    border-color:#10B98144;background:#10B98122;color:#A7F3D0 }
.sev-medium{ border-color:#F59E0B44;background:#F59E0B22;color:#FDE68A }
.sev-high{   border-color:#EF444444;background:#EF444422;color:#FCA5A5 }
.sev-critical{border-color:#DC262644;background:#DC262622;color:#FCA5A5 }

.chip{
  display:inline-block; font-size:.84rem; font-weight:600;
  padding:.30rem .65rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06);
}
.chip.mitre{ font-family:ui-monospace,SFMono-Regular,Menlo,monospace; letter-spacing:.2px }

/* Nunca subrayar enlaces dentro de cards */
.card a,.card a:hover,.card a:focus{ text-decoration:none!important }

/* ========================================================================== */
/* 07) BRIEFING CARDS (home/lista)                                            */
/* ========================================================================== */
.cards-xl{
  display:grid; grid-template-columns:repeat(2,minmax(420px,1fr));
  gap:2rem; max-width:1200px; margin:0 auto;
}
@media (max-width:1100px){ .cards-xl{ grid-template-columns:1fr } }

.briefing-card{ composes: card; } /* si no usas CSS Modules, ignora esta línea */
.briefing-card header{
  display:flex; align-items:center; justify-content:space-between;
  color:var(--ink-2); margin-bottom:.6rem;
}
.label-pill{
  display:inline-flex; align-items:center; gap:.45rem;
  font-weight:600; font-size:.9rem;
  padding:.28rem .65rem; border-radius:999px;
  background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.18);
}
.label-pill .i{ width:18px; height:18px; opacity:.9 }

/* ========================================================================== */
/* 08) WRITEUPS PAGE (cabecera + rejilla centrada)                            */
/* ========================================================================== */
.page-writeups .section-head{ text-align:center; max-width:70ch; margin:0 auto 1.4rem }
.page-writeups .section-head .lede{ color:var(--ink-2) }
.page-writeups .cards-xl{ display:flex; flex-wrap:wrap; gap:2rem; justify-content:center; align-items:stretch; max-width:1200px; margin:0 auto }
.page-writeups .cards-xl .card{ width:min(100%,560px) }
/* Oculta H1 heredado si lo hay */
body[data-path="/writeups/"] .main > h1:first-child{ display:none!important }

/* ========================================================================== */
/* 09) ABOUT (compacto y sin bandas)                                          */
/* ========================================================================== */
.about-page .home-section{ background:transparent; padding:1.6rem 0 2.2rem }
.about-page .home-section.zebra,.about-page .home-section.zebra.alt{ background:transparent }
.about-hero{ text-align:center }
.about-hero .lede{ color:var(--ink); font-size:clamp(1.06rem,1.2vw,1.2rem) }
.about-hero .lede-2{ color:var(--ink-2); max-width:70ch; margin:.4rem auto 0 }

.avatar{
  width:128px; height:128px; border-radius:50%;
  margin:.4rem auto 1rem; position:relative;
  background:radial-gradient(45% 45% at 35% 35%,#BFA6FF 0 50%,transparent 55%),
             linear-gradient(135deg,rgba(106,61,200,.9),rgba(142,92,255,.7));
  box-shadow: inset 0 0 0 6px rgba(11,22,34,.8), 0 12px 38px rgba(106,61,200,.35);
}
.avatar-ring{ position:absolute; inset:10px; border-radius:50%; box-shadow:inset 0 0 0 6px rgba(255,255,255,.2) }

.pill-grid{ display:grid; gap:1rem; grid-template-columns:repeat(4,minmax(160px,1fr)) }
@media (max-width:1000px){ .pill-grid{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:560px){ .pill-grid{ grid-template-columns:1fr } }
.pill-card{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  padding:1.05rem .95rem; border-radius:16px;
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.10); box-shadow:var(--shadow-sm);
  color:var(--ink); transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.pill-card h3{ margin:.2rem 0 .2rem; font-size:1.35rem }
.pill-card .sub{ color:var(--ink-2) }
.pill-card:hover{ transform:translateY(-3px); box-shadow:var(--shadow-lg); border-color:rgba(142,92,255,.35) }
.pill-card:hover h3{
  background:linear-gradient(90deg,var(--accent-2),var(--accent));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Redes */
.social-row{ display:flex; flex-wrap:wrap; gap:.7rem; justify-content:center; margin-top:.6rem }
.social-row .btn{ border-radius:999px; padding:.62rem .9rem }
.social-row .btn .i{ width:18px; height:18px; margin-right:.35rem }

/* ========================================================================== */
/* 10) FOOTER                                                                 */
/* ========================================================================== */
.site-footer{
  border-top:1px solid rgba(255,255,255,.08);
  padding:1.4rem 1rem 1.2rem; color:var(--ink-2);
  background:
    linear-gradient(0deg,rgba(106,61,200,.09),rgba(106,61,200,0) 60%),
    linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
}
.footer-top{
  display:grid; grid-template-columns:2fr 1fr 1fr; gap:1.4rem;
  max-width:var(--maxw); margin:0 auto 1.2rem;
}
@media (max-width:980px){ .footer-top{ grid-template-columns:1fr 1fr } }
@media (max-width:640px){ .footer-top{ grid-template-columns:1fr } }
.site-footer .logo-mark{
  width:28px; height:28px; border-radius:50%;
  background:
    radial-gradient(45% 45% at 35% 35%,#BFA6FF 0 50%,transparent 55%),
    linear-gradient(135deg,rgba(106,61,200,.9),rgba(142,92,255,.7));
  box-shadow:0 0 0 2px rgba(255,255,255,.12) inset, 0 2px 14px rgba(106,61,200,.35);
}
.brand-head{ display:flex; align-items:center; gap:.7rem; margin-bottom:.6rem }
.brand-name{ margin:0; font-weight:800; letter-spacing:.2px }
.brand-copy{ margin:.2rem 0 1rem; max-width:52ch; color:var(--ink-2) }
.tags{ margin:.8rem 0 0 }
.chip{
  display:inline-block; margin:0 .35rem .35rem 0;
  padding:.28rem .7rem; border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  font-size:.85rem; color:var(--ink);
  backdrop-filter:saturate(120%) blur(2px);
}
.footer-col h4{ margin:.2rem 0 .6rem; color:var(--ink) }
.footer-list{ list-style:none; padding:0; margin:0 }
.footer-list li{ margin:.32rem 0 }
.footer-list a{ color:var(--ink-2) }
.footer-list a:hover{ color:#fff }
.footer-sep{
  max-width:var(--maxw); margin:.8rem auto 1rem; height:1px;
  background:linear-gradient(90deg,rgba(255,255,255,.06),rgba(255,255,255,.12),rgba(255,255,255,.06)); opacity:.7;
}
.footer-bottom{ text-align:center; color:var(--ink-2); font-size:.95rem }
.site-footer ul{ list-style:none; padding-left:0; margin:0 }
